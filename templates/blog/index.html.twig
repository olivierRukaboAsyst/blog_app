{% extends 'base.html.twig' %}

{% block title %}
  TUMAINI AFRICA NEWS
{% endblock %}

{% block slider %}
  <div class="a-la-une">
    <div class="containers flex">
      <div class="a-title">
        A la une
      </div>
      <div class="a-description">
        <a href="">
          Patricia Urquiola Coats Transparent Glas Tables for Livings
        </a>
      </div>
    </div>
  </div>
  <div class="big-news">
    <div class="containers">
      {# {% for article in articles|slice(-4)|reverse %} #}
      <div class="all-items flex">
        <a href="article/{{ lastArticle.slug }}"
          class="lastItem"
          style="background-image: url({{ lastArticle.imageUrl }})">
          <div class="lastItem-description">
            {% for category in lastArticle.categories %}
              <p class="category">
                {{ category.name }}
              </p>
            {% endfor %}
            <h1>
              {{ lastArticle.title }}
            </h1>
            <div class="author-date flex">
              <p>
                {{ lastArticle.author.fullName }}
              </p>
              <p>
                {{ lastArticle.fromNow }}
              </p>
            </div>
          </div>
        </a>
        <div class="othersItem flex">
          <a href=""
            class="avantLastArticle"
            style="background-image: url({{ avantLastArticle.imageUrl }})">
            <div class="avant-description">
              {% for category in avantLastArticle.categories %}
                <p class="category">
                  {{ category.name }}
                </p>
              {% endfor %}
              <h1>
                {{ avantLastArticle.title }}
              </h1>
            </div>
          </a>
          <div class="others-bottom flex">
            <a href=""
              class="bottom-other"
              style="background-image: url({{
              thirdAvantLastArticle.imageUrl
              }})">
              <div class="other-description">
                {% for category in thirdAvantLastArticle.categories %}
                  <p class="category">
                    {{ category.name }}
                  </p>
                {% endfor %}
                <h5>
                  {{ thirdAvantLastArticle.title }}
                </h5>
              </div>
            </a>
            <a href=""
              class="bottom-other"
              style="background-image: url({{ fourth.imageUrl }})">
              <div class="other-description">
                {% for category in fourth.categories %}
                  <p class="category">
                    {{ category.name }}
                  </p>
                {% endfor %}
                <h5>
                  {{ fourth.title }}
                </h5>
              </div>
            </a>
          </div>
        </div>
      </div>
      {# {% endfor %} #}
    </div>
  </div>

  {#
    <div class="slider">
        <div class="all-top-news flex">
            <div class="headline-news">
                <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img class="d-block w-100" src="{{ lastArticle.imageUrl }}" alt="First slide">
                        <div class="carousel-caption d-none d-md-block">
                        <a href="article/{{ lastArticle.slug }}">{{ lastArticle.title }}</a>
                        </div>
                        {% for category in lastArticle.categories %}
                            <p class="category">{{ category.name }}</p>
                        {% endfor %}
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100" src="{{ avantLastArticle.imageUrl }}" alt="Second slide">
                      <div class="carousel-caption d-none d-md-block">
                      <a href="article/{{ avantLastArticle.slug }}">{{ avantLastArticle.title }}</a>
                       </div>
                        {% for category in avantLastArticle.categories %}
                            <p class="category">{{ category.name }}</p>
                        {% endfor %}
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100" src="{{ thirdAvantLastArticle.imageUrl }}" alt="Third slide">
                        <div class="carousel-caption d-none d-md-block">
                        <a href="article/{{ thirdAvantLastArticle.slug }}">{{ thirdAvantLastArticle.title }}</a> 
                        </div>
                        {% for category in avantLastArticle.categories %}
                            <p class="category">{{ category.name }}</p>
                        {% endfor %}
                    </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
</div>
        </div>
        <div class="late-news flex">
            <div class="late-news-item flex">
                <a href="article/{{ fourth.slug }}" class="late-news-contents">
                    <img src="{{ fourth.imageUrl }}" alt="">
                    <div class="late-news-content-txt">
                        <a href="article/{{ fourth.slug }}">{{ fourth.title }}</a>
                        <p class="date">{{ fourth.createdAt | date("d/m/Y")  }}</p>
                    </div>
                </a>
            </div>
            <div class="late-news-item flex">
                <a href="article/{{ fiveth.slug }}" class="late-news-contents">
                    <img src="{{ fiveth.imageUrl }}" alt="">
                    <div class="late-news-content-txt">
                        <a href="article/{{ fiveth.slug }}">{{ fiveth.title }}</a>
                        <p class="date">{{ fiveth.createdAt | date("d/m/Y")  }}</p>
                    </div>
                </a>
            </div>
            <div class="late-news-item flex">
                <a href="article/{{ sixth.slug }}" class="late-news-contents">
                    <img src="{{ sixth.imageUrl }}" alt="">
                    <div class="late-news-content-txt">
                        <a href="article/{{ sixth.slug }}">{{ sixth.title }}</a>
                        <p class="date">{{ sixth.createdAt | date("d/m/Y")  }}</p>
                    </div>
                </a>
            </div>
        </div>
        </div>
        </div>
    </div>#}
{% endblock %}

{% block body %}
  {# <div class="articles-infos">
        <strong>{{ articles | length }} articles retrouv√©s</strong>
    </div> #}
  <div class="big-news">
    {% for category in categories %}
      {% if category.articles is defined %}
        <a href="article_by_category/{{ category.slug }}"
          class="category-index">
          <div class="category-title">
            <h5>
              {{ category.name }}
            </h5>
          </div>
          {% for a in category.articles %}
            <a href="article/{{ a.slug }}" class="article-in-category">
              {{ a.title }}
            </a>
          {% endfor %}
        </a>
      {% endif %}
    {% endfor %}

    {# {% for article in articles %}
        <a href="article/{{ article.slug }}" class="article-item">
            <div class="article-image">
                <img src={{ article.imageUrl }} alt="Image de l'article: {{ article.title }}">
            </div>
            <div class="article-details flex">
                <div class="article-author-details">
                    <div class="article-author-picture">
                    {% if article.author.profile.picture is defined %}
                        <img src={{ article.author.profile.picture }} width="50" height="50" alt="Image de profile de {{ article.author.fullname }}">
                    {% else %}
                        <img src="/_assets/images/avatar_jstore.webp" width="50" height="50" alt="Image de profile de {{ article.author.fullname }}">
                    {% endif %}
                    </div>
                </div>
                <div class="article-content-title">
                    <h3 class="article-title">{{ article.title }}</h3>
                    <div class="article-createdAt">{{ article.fromNow }}</div>
                </div>
            </div>
        </a>
    {% endfor %} #}
  </div>
{% endblock %}
